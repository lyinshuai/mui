import axios from 'axios';
import { Message } from '@arco-design/web-react';
import { apiBasename } from './config';
function joinChat(chatId, email) {
    if (!email) {
        Message.error({ content: '请先登陆' });
        return;
    }
    if (!chatId) {
        Message.error({ content: '请指定群聊 ID' });
        return;
    }
    axios
        .get("".concat(apiBasename, "/api/oncall/joinChat?email=").concat(email, "&chatId=").concat(chatId))
        .then(function (res) {
        if (res.data.status === 'success') {
            var aLink = document.createElement('a');
            aLink.href = "lark://client/chat/".concat(chatId);
            aLink.click();
        }
    })
        .catch(function (err) {
        console.error(err); // eslint-disable-line
        Message.error({ content: '未知错误，请重试！' });
    });
}
export default joinChat;
