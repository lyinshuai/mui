"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.maxScale = exports.minScale = void 0;
var scaleAttr = [
    25,
    33,
    50,
    67,
    75,
    80,
    90,
    100,
    110,
    125,
    150,
    175,
    200,
    250,
    300,
    400,
    500,
].map(function (item) { return +(item / 100).toFixed(2); });
exports.minScale = scaleAttr[0];
exports.maxScale = scaleAttr[scaleAttr.length - 1];
function getScale(cur, type) {
    if (cur === void 0) { cur = 100; }
    if (type === void 0) { type = 'zoomIn'; }
    var index = scaleAttr.indexOf(cur);
    if (index === -1) {
        index = findClosestIndex(cur);
    }
    if (type === 'zoomIn') {
        return index === scaleAttr.length - 1 ? cur : scaleAttr[index + 1];
    }
    return index === 0 ? cur : scaleAttr[index - 1];
}
exports.default = getScale;
function findClosestIndex(scale) {
    if (!scaleAttr.length)
        return;
    if (scaleAttr.length === 1)
        return scaleAttr[0];
    var closestIndex = scaleAttr.length - 1;
    for (var i = 0; i < scaleAttr.length; i++) {
        var current = scaleAttr[i];
        if (scale === current) {
            closestIndex = i;
            break;
        }
        if (scale < current) {
            var pre = scaleAttr[i - 1];
            closestIndex =
                pre === undefined || Math.abs(pre - scale) <= Math.abs(current - scale) ? i - 1 : i;
            break;
        }
    }
    return closestIndex;
}
